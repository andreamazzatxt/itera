import { Card } from "@/components/ui/card";
import { TrackData } from "@/lib/gps-utils";

export const svgMarker = encodeURIComponent(`
<svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 160 200">
  <path d="M61.5126 2.61113C75.7746 -2.13112 98.0056 0.73158 111.413 6.44283C128.421 13.8404 145.433 28.787 152.547 46.353C156.511 53.6935 159.473 67.716 159.875 75.691C159.987 76.995 159.914 78.34 159.9 79.649C159.681 100.596 152.978 119.311 139.377 135.465C136.441 138.953 131.404 144.899 128.158 147.898C125.701 150.908 122.911 153.7 120.288 156.569L88.8866 190.858C86.7786 193.104 81.6516 200.787 78.4596 198.681C75.8021 196.927 72.6766 192.946 70.5201 190.554L22.9951 138.122C12.3231 126.04 5.45313 114.133 1.95688 97.978C-2.31457 78.242 0.774476 55.9115 11.8296 38.78C20.9116 22.6575 42.9531 5.94288 61.5126 2.61113ZM40.7066 64.5365L40.6551 64.74C40.2991 66.103 39.7386 67.431 39.3261 68.781C36.0051 79.6455 38.2251 92.391 43.8116 102.092C56.2851 123.755 83.1141 129.26 103.739 115.663C104.767 114.605 106.411 113.718 107.563 112.725C120.788 101.325 125.487 83.7295 120.069 67.0325C113.039 45.3655 88.5191 32.9185 66.8741 40.002C53.0921 44.5125 46.8176 52.514 40.7066 64.5365Z"
    fill="red"/>
</svg>`);

export const MarkerPopup = ({
  track,
  x,
  y,
}: {
  track: TrackData;
  x?: number;
  y?: number;
}) => {
  return (
    <Card
      glass
      className="absolute p-2"
      style={{
        pointerEvents: "none",
        top: y ?? 0,
        left: x ?? 0,
      }}
    >
      <div className="font-bold text-white ">{track.name}</div>
    </Card>
  );
};
